{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Login from\"./Login\";import Register from\"./Register\";import DashboardAdmin from\"./DashboardAdmin\";import DashboardStaff from\"./DashboardStaff\";import DashboardCliente from\"./DashboardCliente\";import DashboardRepartidor from\"./DashboardRepartidor\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState(null);const[userType,setUserType]=useState(null);// Leer datos de localStorage al cargar la app\nuseEffect(()=>{const savedToken=localStorage.getItem(\"token\");const savedType=localStorage.getItem(\"userType\");if(savedToken&&savedType){setToken(savedToken);setUserType(savedType);}},[]);// Guardar datos en localStorage tras login\nconst handleLogin=(token,tipo)=>{setToken(token);setUserType(tipo);localStorage.setItem(\"token\",token);localStorage.setItem(\"userType\",tipo);};const handleLogout=()=>{setToken(null);setUserType(null);localStorage.removeItem(\"token\");localStorage.removeItem(\"userType\");};if(!token){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:600,margin:\"40px auto\",padding:20,border:\"1px solid #ddd\",borderRadius:10},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FASTGODELIVERY\"}),/*#__PURE__*/_jsx(Login,{onLogin:handleLogin}),/*#__PURE__*/_jsx(Register,{})]});}let dashboard=null;if(userType===\"Admin\")dashboard=/*#__PURE__*/_jsx(DashboardAdmin,{token:token,onLogout:handleLogout});else if(userType===\"Staff\")dashboard=/*#__PURE__*/_jsx(DashboardStaff,{token:token,onLogout:handleLogout});else if(userType===\"Cliente\")dashboard=/*#__PURE__*/_jsx(DashboardCliente,{token:token,onLogout:handleLogout});else if(userType===\"Repartidor\")dashboard=/*#__PURE__*/_jsx(DashboardRepartidor,{token:token,onLogout:handleLogout});else dashboard=/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: Tipo de usuario desconocido \",/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Volver a login\"})]});return dashboard;}export default App;","map":{"version":3,"names":["React","useState","useEffect","Login","Register","DashboardAdmin","DashboardStaff","DashboardCliente","DashboardRepartidor","jsx","_jsx","jsxs","_jsxs","App","token","setToken","userType","setUserType","savedToken","localStorage","getItem","savedType","handleLogin","tipo","setItem","handleLogout","removeItem","style","maxWidth","margin","padding","border","borderRadius","children","onLogin","dashboard","onLogout","onClick"],"sources":["C:/Users/Ricardo/OneDrive/Documentos/GitHub/fastgodelivery/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport DashboardAdmin from \"./DashboardAdmin\";\r\nimport DashboardStaff from \"./DashboardStaff\";\r\nimport DashboardCliente from \"./DashboardCliente\";\r\nimport DashboardRepartidor from \"./DashboardRepartidor\";\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(null);\r\n  const [userType, setUserType] = useState(null);\r\n\r\n  // Leer datos de localStorage al cargar la app\r\n  useEffect(() => {\r\n    const savedToken = localStorage.getItem(\"token\");\r\n    const savedType = localStorage.getItem(\"userType\");\r\n    if (savedToken && savedType) {\r\n      setToken(savedToken);\r\n      setUserType(savedType);\r\n    }\r\n  }, []);\r\n\r\n  // Guardar datos en localStorage tras login\r\n  const handleLogin = (token, tipo) => {\r\n    setToken(token);\r\n    setUserType(tipo);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"userType\", tipo);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setToken(null);\r\n    setUserType(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userType\");\r\n  };\r\n\r\n  if (!token) {\r\n    return (\r\n      <div style={{maxWidth:600,margin:\"40px auto\",padding:20,border:\"1px solid #ddd\",borderRadius:10}}>\r\n        <h1>FASTGODELIVERY</h1>\r\n        <Login onLogin={handleLogin} />\r\n        <Register />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  let dashboard = null;\r\n  if (userType === \"Admin\") dashboard = <DashboardAdmin token={token} onLogout={handleLogout} />;\r\n  else if (userType === \"Staff\") dashboard = <DashboardStaff token={token} onLogout={handleLogout} />;\r\n  else if (userType === \"Cliente\") dashboard = <DashboardCliente token={token} onLogout={handleLogout} />;\r\n  else if (userType === \"Repartidor\") dashboard = <DashboardRepartidor token={token} onLogout={handleLogout} />;\r\n  else dashboard = <div>Error: Tipo de usuario desconocido <button onClick={handleLogout}>Volver a login</button></div>;\r\n\r\n  return dashboard;\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}